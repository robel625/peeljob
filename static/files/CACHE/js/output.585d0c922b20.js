$(".cancelbutton").click(function(e){window.location="/";});$("select.location").select2({placeholder:"Select here"});$("form#jobalertform").submit(function(e){e.preventDefault();$.post("/alert/create/",$("form#jobalertform").serialize(),function(data){$('.hint').remove();if(data.error){if(data.response_message){open_dialog(data.response_message,'Error!')}
$('.hint').remove();for(var key in data.message){if(key=='skill'){$('.skill_err').html('<span class="hint">'+data.message[key]+'</span>');}
else if(key=='min_salary'||key=='max_salary'){$('#'+key).append('<span class="hint">'+data.message[key]+'</span>');}
else{$('#'+key).after('<span class="hint">'+data.message[key]+'</span>');}}}else{open_dialog_with_url("Alert Created Successfully",'Success','/alert/results/'+data.alert_id+'/')}},'json');});$("select.cities").select2({placeholder:"Select the city",maximumSelectionSize:100});$("select.skills").select2({placeholder:"Select the skill",maximumSelectionSize:100});$("select.industry").select2({placeholder:"Select the industry",maximumSelectionSize:100});$("select#job_skills").select2({placeholder:"Select here",maximumSelectionSize:100});$('#job_skills').empty()
$('#job_skills').append(new Option('Select a Skill',''))
$.getJSON("/jobs/get_skills/",function(data){$.each(JSON.parse(data.response),function(key,field){$('#job_skills').append(new Option(field.fields.name,field.pk))})});$("select#min_year").on('change',function(e){$('select#max_year').val('');$('select#max_year option').addClass('max_experience');for(i=$('select#min_year option:selected').attr('id');i<$('select#min_year option').length;i++)
{$('select#max_year option[id='+i+']').removeClass('max_experience');}});;